<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script> 
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>


    <script type="text/babel">


const {useState,useEffect} =React;

function Timer(){

    useEffect(
    ()=>{
        console.log('time 컴포넌트가 마운트 될 떄 동작함');
        console.log('타이머가 동작함');

        const timer =setInterval(()=> {
            console.log(new Date().toLocaleTimeString());
        }, 1000);

        /* return 구문에서 함수를 반환하면 해당 컴포넌트를 언마운트 시 setInterval 을 통해 interval 을 종료시킨다.*/

        return ()=>{
            clearInterval(timer);
            console.log('종료됨');
        }
        },
        []
    );

    

    return(
        <>
        <h1>타이머 시작</h1>
        
        </>
    )

}

function App(){

    const[isTrue,setIsture]= useState(false);

    return(
        <>
        <button onClick={()=> { setIsture(!isTrue)} }>타이머 버튼</button>
        { isTrue && <Timer/> }
        { /*isTrue ? <Timer/> : null  조건부 랜더링*/} 
        </>
    );
}


ReactDOM.createRoot(document.getElementById('root')).render(<App/>);

</script>
    
</body>
</html>